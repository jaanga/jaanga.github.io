<!doctype html>
<html>
<body>
<img id="scream" src="img_the_scream.jpg" alt="The Scream" width="220" height="277">
<canvas id="myCanvas" width="220" height="277" style="border:5px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.
</canvas>

<script>
// http://www.w3schools.com/tags/canvas_getimagedata.asp

	document.getElementById("scream").onload=function(){
		var c = document.getElementById("myCanvas");
		var ctx = c.getContext("2d");
		var img = document.getElementById("scream");
		
		ctx.drawImage(img,0,0);

		var imgData=ctx.getImageData(0,0,c.width,c.height);
		// invert colors

		for (var i=0;i<imgData.data.length;i+=4) {
			imgData.data[i]=255-imgData.data[i];
			imgData.data[i+1]=255-imgData.data[i+1];
			imgData.data[i+2]=255-imgData.data[i+2];
			imgData.data[i+3]=255;
		}
		ctx.putImageData(imgData,0,0, 0, 0, 200, 200);
/*
		for (var i=0;i< 500 ; i++) {
			console.log( imgData.data[i] )
		}  
*/

	};
</script>
</body>
</html>
